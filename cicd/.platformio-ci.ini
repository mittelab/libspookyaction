[env:m5stack-core-esp32]
platform = espressif32
framework = espidf
build_unflags = -std=gnu++11 -std=gnu++14 -std=c++11 -std=c++14
build_flags =
    -std=c++17
    -Wall -Wextra
    -D CONFIG_MBEDTLS_DES_C
    -D CONFIG_ESP_SYSTEM_PANIC_PRINT_HALT
    -D KEYCARD_UNIT_TEST_MAIN
    -D KEYCARD_CI_CD_MACHINE
    -D KEYCARD_HSU
    -D KEYCARD_I2C
    -D KEYCARD_I2C_IRQ
test_transport = custom
monitor_flags = --raw
test_build_project_src = yes
upload_port=/dev/ttyUSB0
monitor_port=/dev/ttyUSB0
test_port=/dev/ttyUSB0
monitor_speed = 115200
board = m5stack-core-esp32
